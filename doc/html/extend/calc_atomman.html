<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>LAMMPS Calculations Using atomman &#8212; iprPy 0.7.2 documentation</title>
    
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.7.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Generating a Prepare Script" href="calc_prepare.html" />
    <link rel="prev" title="Creating Calculation Styles" href="add_calculation_style.html" /> 
  </head>
  <body role="document">
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">iprPy 0.7.2 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="add_calculation_style.html" title="Creating Calculation Styles"
             accesskey="P">previous</a> |
          <a href="calc_prepare.html" title="Generating a Prepare Script"
             accesskey="N">next</a> |
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="lammps-calculations-using-atomman">
<h1>LAMMPS Calculations Using atomman<a class="headerlink" href="#lammps-calculations-using-atomman" title="Permalink to this headline">¶</a></h1>
<p>Many of the functions of the iprPy.input and iprPy.prepare subpackages are
associated with handling calculations that use the atomman Python package to
perform LAMMPS molecular dynamics simulations.  This page describes some of
the methods of the input subpackage and how they can be used to easily set up
simulation systems from sets of standardized input parameters.  More
information on the methods of the prepare submodule can be found in the next
section.</p>
<div class="section" id="input-function-design">
<h2>Input function design<a class="headerlink" href="#input-function-design" title="Permalink to this headline">¶</a></h2>
<p>All of the functions described here follow the same basic structure:</p>
<ol class="arabic">
<li><p class="first">The functions all take the input_dict dictionary of input parameters as the
first argument.</p>
</li>
<li><p class="first">The function only operates on the parameters contained within input_dict.
Each function reads input parameters from pre-defined keys of input_dict
and saves the processed values to input_dict.  No calculation parameters
are returned by the function.</p>
<blockquote>
<div><ol class="arabic simple">
<li>Basic input parameters can be modified by the function by assigning
default values if needed, and simple conversion of string inputs to
numerical values.</li>
<li>Terms generated by the functions should be saved to new input_dict keys
as opposed to overwriting the keys the function uses as inputs.  This
is so that the original format can be retained where possible.</li>
</ol>
</div></blockquote>
</li>
<li><p class="first">The function&#8217;s keyword arguments can be used to redefine the input_dict
keys accessed by the function. For example, if you want function funx to
use input_dict[&#8216;keyname1&#8217;] instead of the default input_dict[&#8216;keyname&#8217;],
then use the following function call:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="n">iprPy</span><span class="o">.</span><span class="n">input</span><span class="o">.</span><span class="n">funx</span><span class="p">(</span><span class="n">input_dict</span><span class="p">,</span> <span class="n">keyname</span><span class="o">=</span><span class="s1">&#39;keyname1&#39;</span><span class="p">)</span>
</pre></div>
</div>
<p>This is useful for calculations where multiple definitions of the same
parameters are needed, e.g. grain boundary calculations need to define two
component atomic configurations with different orientations.</p>
</li>
<li><p class="first">Some functions have an optional <em>build</em> keyword parameter that takes a
boolean value.  Giving <em>build</em> a value of False keeps the function from
generating complex data structures and objects based on the inputs and only
processes the simple terms.  This is useful in preparing calculations where
input terms that appear in the calculation&#8217;s record need to be processed,
but other complex input terms are not needed.  For instance, parameters
defining a system (e.g. size multipliers and axis orientations) are
important for defining the calculation and therefore need to appear in the
calculation&#8217;s record when it is prepared, but the actual generated atomic
system is not needed until the calculation is later performed.</p>
</li>
</ol>
<p>Designing the input functions in this fashion is convenient as each function
manipulates and extends the standardized input parameters collected within
input_dict.</p>
</div>
<div class="section" id="list-of-basic-atomman-based-input-functions">
<h2>List of basic atomman-based input functions<a class="headerlink" href="#list-of-basic-atomman-based-input-functions" title="Permalink to this headline">¶</a></h2>
<p>This section lists the basic functions of iprPy.input related to handling
input terms for atomman-based calculations and the input_dict keys that each
function accesses.  Additional functions exist related to specific
requirements of certain calculations. See the iprPy.input documentation for a
complete list.</p>
<p><strong>commands()</strong> handles input parameters for the commands used to run LAMMPS
simulations.</p>
<ul class="simple">
<li>&#8216;lammps_command&#8217; is the LAMMPS executable to use.  Required.</li>
<li><dl class="first docutils">
<dt>&#8216;mpi_command&#8217; is the MPI executable and options to use for running LAMMPS in</dt>
<dd>parallel.  Default value is None.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>&#8216;lammps_version&#8217; is the string LAMMPS version of the &#8216;lammps_command&#8217;</dt>
<dd>executable.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>&#8216;lammps_date&#8217; is a datetime.date object corresponding to the LAMMPS version</dt>
<dd>of the &#8216;lammps_command&#8217; executable.</dd>
</dl>
</li>
</ul>
<p><strong>units()</strong> handles input parameters for defining the default units of
input/output values.</p>
<ul class="simple">
<li>&#8216;length_unit&#8217; the unit of length to use. Default value is &#8216;angstrom&#8217;.</li>
<li>&#8216;energy_unit&#8217; the unit of energy to use. Default value is &#8216;eV&#8217;.</li>
<li>&#8216;pressure_unit&#8217; the unit of pressure to use. Default value is &#8216;GPa&#8217;.</li>
<li>&#8216;force_unit&#8217; the unit of force to use. Default is value &#8216;eV/angstrom&#8217;.</li>
</ul>
<p><strong>potential()</strong> handles input parameters for defining LAMMPS-implemented
potentials.</p>
<ul class="simple">
<li>&#8216;potential_file&#8217; is the path to the potential_LAMMPS record associated with
the potential being used.  Required.</li>
<li>&#8216;potential_dir&#8217; is the path to the directory containing any potential
archives (i.e. files) that define parameters of the potential. Default value
is &#8216;&#8217;.</li>
<li>&#8216;potential_content&#8217; is a loaded DataModelDict of a potential_LAMMPS record
to use instead of &#8216;potential_file&#8217;.  This term is useful for prepare
functions where the content needs to be loaded before &#8216;prepare_file&#8217; exists.
Default value is None (use &#8216;potential_file&#8217;).</li>
<li>&#8216;potential&#8217; is an atomman.lammps.Potential object initialized by loading
&#8216;potential_file&#8217; (or &#8216;potential_content&#8217;).</li>
</ul>
<p><strong>systemload()</strong> handles input parameters for loading an atomic configuration
from a file.</p>
<ul class="simple">
<li>&#8216;load_file&#8217; is the path to the file containing an atomic configuration to
load.  Required.</li>
<li>&#8216;load_style&#8217; indicates the format of &#8216;load_file&#8217; as defined by
atomman.load().  Default value is &#8216;system_model&#8217;.</li>
<li>&#8216;load_options&#8217; lists all other parameter options to use when calling
atomman.load().  Allowed terms depend on &#8216;load_style&#8217;.  Default value is
None.</li>
<li>&#8216;load_content&#8217; is an alternate file path or open file-like object to use
instead of &#8216;load_file&#8217;.  This term is useful for prepare functions where the
content needs to be loaded before &#8216;load_file&#8217; exists.  Default value is None
(use &#8216;load_file&#8217;).</li>
<li>&#8216;box_parameters&#8217; is a string of 3 or 6 terms associated with scaling the
loaded system&#8217;s box dimensions.  Default value is None (no rescaling).</li>
<li>&#8216;system_family&#8217; is the system&#8217;s family (i.e. prototype) that is useful for
tracking and identifying related calculations.  This is extracted from
&#8216;load_file&#8217;.</li>
<li>&#8216;ucell&#8217; is an atomman.System obtained by loading &#8216;load_file&#8217; (or
&#8216;load_content&#8217;).</li>
<li>&#8216;symbols&#8217; is the list of atomic model symbols to associate with the integer
atom types of &#8216;ucell&#8217;.  Default behavior is to extract this from the
&#8216;load_file&#8217;, however, a replacement value can be given as a string input.
Required if &#8216;load_file&#8217; contains no element/symbol information.</li>
</ul>
<p><strong>systemmanipulate()</strong> handles input parameters for manipulating a loaded
atomic configuration.  Starting with the &#8216;ucell&#8217; system, an &#8216;initialsystem&#8217; is
constructed by rotating, shifting and multiplying a system (in that order).</p>
<ul class="simple">
<li>&#8216;ucell&#8217; is the root atomman.System to apply the manipulations to.</li>
<li>&#8216;x_axis&#8217; is a string defining the crystallographic axis to make parallel to
the Cartesian x-axis.  Default value is &#8216;1 0 0&#8217;.</li>
<li>&#8216;y_axis&#8217; is a string defining the crystallographic axis to make parallel to
the Cartesian y-axis.  Default value is &#8216;0 1 0&#8217;.</li>
<li>&#8216;z_axis&#8217; is a string defining the crystallographic axis to make parallel to
the Cartesian z-axis.  Default value is &#8216;0 0 1&#8217;.</li>
<li>&#8216;atomshift&#8217; is a string defining a scaled rigid body shift to apply to all
atoms.  Default value is &#8216;0 0 0&#8217;.</li>
<li>&#8216;sizemults&#8217; is a string of 3 or 6 terms indicating the direction and number
of replicas of the transformed system to use.  Default value is &#8216;1 1 1&#8217;.
NOTE: This value is transformed from a string to a 3x2 array.</li>
<li>&#8216;axes&#8217; is a 3x3 array combining the &#8216;*_axis&#8217; terms.</li>
<li>&#8216;initialsystem&#8217; is the resulting atomman.System after the manipulations.</li>
</ul>
<p><strong>minimize()</strong> handles input parameters related to LAMMPS minimize and min_modify
commands.  Note: at least one of &#8216;energytolerance&#8217; or &#8216;forcetolerance&#8217; must be
specified as they both cannot have values of zero.</p>
<ul class="simple">
<li>&#8216;energytolerance&#8217; the value for the etol parameter of the minimize command.
This value is unitless.  Default value is 0.0.</li>
<li>&#8216;forcetolerance&#8217; the value for the ftol parameter of the minimize command.
This value is in units of force. Default value is 0.0.</li>
<li>&#8216;maxiterations&#8217; the value for the maxiter parameter of the minimize command.
Default value is 10000.</li>
<li>&#8216;maxevaluations&#8217; the value for the maxeval parameter of the minimize command.
Default value is 100000.</li>
<li>&#8216;maxatommotion&#8217; the value for the dmax parameter of the min_modify command.
This value is in units of length.  Default value is &#8216;0.01 angstrom&#8217;.</li>
<li>&#8216;force_unit&#8217; the default unit of force to use for &#8216;forcetolerance&#8217; if unit
information is not given.</li>
<li>&#8216;length_unit&#8217; the default unit of length to use for &#8216;maxatommotion&#8217; if unit
information is not given.</li>
</ul>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction to iprPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup.html">Setup</a></li>
<li class="toctree-l1"><a class="reference internal" href="../basics/index.html">iprPy Basics</a></li>
<li class="toctree-l1"><a class="reference internal" href="../highthroughput/index.html">High-Throughput Tools</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Adding Content to iprPy</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="add_potential.html">Adding new potentials</a></li>
<li class="toctree-l2"><a class="reference internal" href="add_parameter_record.html">Adding new library parameter records</a></li>
<li class="toctree-l2"><a class="reference internal" href="add_calculation_style.html">Creating Calculation Styles</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">LAMMPS Calculations Using atomman</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#input-function-design">Input function design</a></li>
<li class="toctree-l3"><a class="reference internal" href="#list-of-basic-atomman-based-input-functions">List of basic atomman-based input functions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="calc_prepare.html">Generating a Prepare Script</a></li>
<li class="toctree-l2"><a class="reference internal" href="add_record_style.html">Constructing Record Styles</a></li>
<li class="toctree-l2"><a class="reference internal" href="add_database_style.html">Constructing Database Styles</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../calculation_styles.html">Calculation Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../record_styles.html">Record Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../database_styles.html">Database Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html">iprPy</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="add_calculation_style.html" title="Creating Calculation Styles"
              >previous</a> |
            <a href="calc_prepare.html" title="Generating a Prepare Script"
              >next</a> |
            <a href="../py-modindex.html" title="Python Module Index"
              >modules</a> |
            <a href="../genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="../_sources/extend/calc_atomman.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Lucas Hale.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>