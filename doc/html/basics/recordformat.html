<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>XML/JSON Records &#8212; iprPy 0.7.2 documentation</title>
    
    <link rel="stylesheet" href="../_static/agogo.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.7.2',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Reference Library" href="library.html" />
    <link rel="prev" title="Input Parameter File" href="inputfile.html" /> 
  </head>
  <body role="document">
    <div class="header-wrapper" role="banner">
      <div class="header">
        <div class="headertitle"><a
          href="../index.html">iprPy 0.7.2 documentation</a></div>
        <div class="rel" role="navigation" aria-label="related navigation">
          <a href="inputfile.html" title="Input Parameter File"
             accesskey="P">previous</a> |
          <a href="library.html" title="Reference Library"
             accesskey="N">next</a> |
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a>
        </div>
       </div>
    </div>

    <div class="content-wrapper">
      <div class="content">
        <div class="document">
            
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="xml-json-records">
<h1>XML/JSON Records<a class="headerlink" href="#xml-json-records" title="Permalink to this headline">¶</a></h1>
<p>The iprPy framework uses reference and results records that have schemas
allowing for equivalent representation in JSON, XML and Python.  This supports
compatibility across different software tools, such as different types of
databases.  Many pre-defined reference records can be found in the library/
directory.</p>
<div class="section" id="reusable-types">
<h2>Reusable types<a class="headerlink" href="#reusable-types" title="Permalink to this headline">¶</a></h2>
<p>XML and JSON were selected as their tree-like structures allow for the use of
reusable types.  A reusable type can be thought of a mini-schema that
describes a certain concept or object.  These small types can be put together
to form larger, more complex types eventually leading to full schemas.
Constructing schemas from types is advantageous as types can be reused in
multiple schemas.  This makes constructing new schemas faster and easier. It
also allows for the development of more adaptable software for reading records
that can search for and extract information from contained types without
requiring a rigid definition of the full schema.</p>
<p>An example of this in the iprPy framework is that there is a type that defines
an atomic configuration.  This same “atomic-system” type is present in the
“crystal_prototype” reference records as well as many of the calculation
results records.  The same functions can be used for interpreting and loading
the “atomic-system” regardless of which record style that it came from.  Doing
so makes it possible for the results records of one calculation to be used as
a reference for another calculation.</p>
</div>
<div class="section" id="record-identification-and-hierarchy">
<h2>Record identification and hierarchy<a class="headerlink" href="#record-identification-and-hierarchy" title="Permalink to this headline">¶</a></h2>
<p>For records in the iprPy Framework:</p>
<ul class="simple">
<li>The root element’s name/key of a record corresponds to the record’s style.
The only difference being that words are separated with “-“ in the root name
and “_” in the the record style name.</li>
<li>The first subelement within the root element is “key”: a UUID4 unique
identifier.  This gives each record a unique machine readable name.</li>
<li>For non-calculation reference records, the next subelement is “id”.  The
record’s id is a human-readable name which is unique (at least for the
record style).</li>
<li>All calculation records (so far) do not use “id” as generating a meaningful
unique name across all parameter variations is typically not possible or
practical.</li>
<li>When a record is saved to a file or database, the record’s name corresponds
to the record &#8220;id&#8221; if it has one or the record &#8220;key&#8221; if it does not.</li>
</ul>
<p>Ex.1 The A1—Cu—fcc.json crystal_prototype record:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;crystal-prototype&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;d30980ad-ae18-425d-84cb-abf08577bdc8&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;A1--Cu--fcc&quot;</span><span class="p">,</span>
        <span class="o">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Ex.2 The a6b816f2-968b-4c75-8c19-6ac73e86e4a2.json calculation_system_relax
record:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;calculation-system-relax&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;a6b816f2-968b-4c75-8c19-6ac73e86e4a2&quot;</span><span class="p">,</span>
        <span class="o">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Assigning unique identifiers to each record provides a means of tracking the
hierarchy of models and calculations.  Child records can indicate any
parent records that they used as references or were derived from by
specifying the parents&#8217; &#8220;key&#8221;s (and &#8220;id&#8221;s) in subelements. Thus,
hierarchies can be mapped out by following the identifiers upstream.  Using
the concept of reusable types for the subelements, it is even possible to copy
part or all of a parent record to the child saving potential future
descendants from having to track their full lineage.</p>
<p>Consider the LAMMPS implementation of the 1987&#8211;Ackland-G-J&#8211;Ag interatomic
potential that is hosted by the Interatomic Potential Repository. Contained
within the 1987&#8211;Ackland-G-J&#8211;Ag&#8211;LAMMPS&#8211;ipr1.json record are keys and ids
for both the implementation and the fundamental potential model that the
implementation represents:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;potential-LAMMPS&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;59a266da-922c-429c-8633-8d3a8de4cd70&quot;</span><span class="p">,</span>
        <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1987--Ackland-G-J--Ag--LAMMPS--ipr1&quot;</span><span class="p">,</span>
        <span class="s2">&quot;potential&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;dc4149ce-3592-4131-8683-ecf654d5a519&quot;</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;1987--Ackland-G-J--Ag&quot;</span>
        <span class="p">},</span>
        <span class="o">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>This is done as there may be multiple implementations based on the same
potential model.  Different implementations can be due to different formats
for different simulation codes, different interpolations, and updated
versions.  Identifying both the implementation and the underlying model makes
it possible to track calculations from a single implementation and compare
across and validate different implementations of the same model.</p>
<p>Furthermore, any calculations that use this potential implementation can
indicate that they did so within their own records. Going back to the
a6b816f2-968b-4c75-8c19-6ac73e86e4a2.json record example:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="p">{</span>
    <span class="s2">&quot;calculation-system-relax&quot;</span><span class="p">:</span> <span class="p">{</span>
        <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;a6b816f2-968b-4c75-8c19-6ac73e86e4a2&quot;</span><span class="p">,</span>
        <span class="o">...</span>
        <span class="s2">&quot;potential-LAMMPS&quot;</span><span class="p">:</span> <span class="p">{</span>
            <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;8bfd0a48-8558-46f9-9d20-cd9e92cb83ae&quot;</span><span class="p">,</span>
            <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;2017--Purja-Pun-G-P--Au--LAMMPS--test&quot;</span><span class="p">,</span>
            <span class="s2">&quot;potential&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;key&quot;</span><span class="p">:</span> <span class="s2">&quot;ef908258-25d1-439e-8223-3bf4df924ed0&quot;</span><span class="p">,</span>
                <span class="s2">&quot;id&quot;</span><span class="p">:</span> <span class="s2">&quot;2017--Purja-Pun-G-P--Au&quot;</span>
            <span class="p">}</span>
        <span class="p">},</span>
        <span class="o">...</span>
    <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="system-families">
<h2>System families<a class="headerlink" href="#system-families" title="Permalink to this headline">¶</a></h2>
<p>A special &#8220;family&#8221; element is also used for linking calculations together
based on their atomic system ancestry.  The &#8220;family&#8221; corresponds to the name
of the original reference file containing atomic configuration information
that was loaded in by the first calculation in a given lineage, and is passed
down from one generation to the next.  Defining a &#8220;family&#8221; is useful because
otherwise it would be difficult to link the calculation of different
properties to the same base structure.</p>
<p>For an example, consider the calculation workflow currently used by iprPy for
performing the implemented calculations in high-throughput:</p>
<ol class="arabic simple">
<li>The cohesive energy versus interatomic spacing is evaluated for the
A1&#8211;Cu&#8211;fcc prototype using some potential.</li>
<li>The rough energy minima identified by #1 are used as initial guesses for
further refinement of possible equilibrium unit cells.</li>
<li>Defect formation calculations use the refined unit cells of #2 to generate
base systems in which the defects are inserted.</li>
<li>In-depth analysis calculations are then performed on the defect structures
produced by #3.</li>
</ol>
<p>All of the calculation records produced by this workflow will have &#8220;family&#8221; =
&#8220;A1&#8211;Cu&#8211;fcc&#8221; making it easy to relate the calculations together.  This avoids
the effort of having to track the calculation ancestry back in order to
identify calculations on related systems.</p>
</div>
</div>


          </div>
        </div>
      </div>
        </div>
        <div class="sidebar">
          <h3>Table Of Contents</h3>
          <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../intro.html">Introduction to iprPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../setup.html">Setup</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">iprPy Basics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="calculation.html">Calculations</a></li>
<li class="toctree-l2"><a class="reference internal" href="inputfile.html">Input Parameter File</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">XML/JSON Records</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#reusable-types">Reusable types</a></li>
<li class="toctree-l3"><a class="reference internal" href="#record-identification-and-hierarchy">Record identification and hierarchy</a></li>
<li class="toctree-l3"><a class="reference internal" href="#system-families">System families</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="library.html">Reference Library</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../highthroughput/index.html">High-Throughput Tools</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extend/index.html">Adding Content to iprPy</a></li>
<li class="toctree-l1"><a class="reference internal" href="../calculation_styles.html">Calculation Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../record_styles.html">Record Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../database_styles.html">Database Styles</a></li>
<li class="toctree-l1"><a class="reference internal" href="../modules/index.html">iprPy</a></li>
</ul>

          <div role="search">
            <h3 style="margin-top: 1.5em;">Search</h3>
            <form class="search" action="../search.html" method="get">
                <input type="text" name="q" />
                <input type="submit" value="Go" />
                <input type="hidden" name="check_keywords" value="yes" />
                <input type="hidden" name="area" value="default" />
            </form>
          </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

    <div class="footer-wrapper">
      <div class="footer">
        <div class="left">
          <div role="navigation" aria-label="related navigaton">
            <a href="inputfile.html" title="Input Parameter File"
              >previous</a> |
            <a href="library.html" title="Reference Library"
              >next</a> |
            <a href="../py-modindex.html" title="Python Module Index"
              >modules</a> |
            <a href="../genindex.html" title="General Index"
              >index</a>
          </div>
          <div role="note" aria-label="source link">
              <br/>
              <a href="../_sources/basics/recordformat.rst.txt"
                rel="nofollow">Show Source</a>
          </div>
        </div>

        <div class="right">
          
    <div class="footer" role="contentinfo">
        &#169; Copyright 2017, Lucas Hale.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.
    </div>
        </div>
        <div class="clearer"></div>
      </div>
    </div>

  </body>
</html>