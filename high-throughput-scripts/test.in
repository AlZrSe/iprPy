##############
#Common Setup#
##############

lib_directory           add C:/Users/lmh1/Documents/calculations/ipr/Kittel
lammps_command          add lmp_mpi

#Read in all potentials from a directory
pot_location            add C:/Users/lmh1/Documents/iprPy/reference-libraries/potentials
function                lammps_potentials pot_location 

###################
#Static Structures#
###################

#Initial path and command information
run_directory           add C:/Users/lmh1/Documents/calculations/ipr/torun/1
mpi_command             add 

#Build list of prototypes from reference-libraries/prototypes directory
proto_dir               add C:/Users/lmh1/Documents/iprPy/reference-libraries/prototypes
function                add_directory_files proto proto_dir

#Make load systems from prototypes and experimental lattice constants
proto_params            add C:/Users/lmh1/Documents/iprPy/reference-libraries/experimental-values/prototype_params.json
function                load_from_prototypes proto proto_params

#Define box size multipliers
size_mults              add 3 3 3

#Run calculation
calculation             refine_structure_static strain_range 1e-7 

###############
#Point Defects#
###############

#Clear system information
load                    clear
load_options            clear
load_elements           clear
box_parameters          clear

#Find all refine_structure_static results and prepare systems for loading
function                load_from_library refine_structure_static

#Add more sizes
size_mults              add 4 4 4  
size_mults              add 5 5 5 
size_mults              add 6 6 6 
size_mults              add 7 7 7 
size_mults              add 8 8 8 
size_mults              add 9 9 9 
size_mults              add 10 10 10 

#Build list of point defects
ptd_dir                 add C:/Users/lmh1/Documents/iprPy/reference-libraries/point/A2--W--bcc
function                add_directory_files ptd_model ptd_dir

#Run calculation
calculation             point_defect_formation_static

######################
#Dislocation Monopole#
######################

#Change box size multipliers
size_mults              clear
size_mults              add -24 24 -40 40 0 32
anneal_temperature      add 100

#Change mpi command
mpi_command             clear
mpi_command             add mpiexec -localonly 4
run_directory           clear
run_directory           add C:/Users/lmh1/Documents/calculations/ipr/torun/4

#Load dislocation model
dislocation_model       add C:/Users/lmh1/Documents/iprPy/reference-libraries/dislocations/A2--W--bcc/111-screw.json

#Run calculation
calculation             dislocation_monopole
